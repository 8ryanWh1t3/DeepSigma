{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Fairness Audit Event v1",
  "description": "Schema for fairness audit results ingested from external tools (AIF360, Fairlearn, custom). Produces drift signals when metrics breach thresholds.",
  "type": "object",
  "required": ["tool", "model_id", "timestamp", "metrics"],
  "properties": {
    "tool": {
      "type": "string",
      "description": "External fairness tool that produced this report",
      "enum": ["aif360", "fairlearn", "custom"]
    },
    "model_id": {
      "type": "string",
      "description": "Identifier of the model or decision pipeline being audited"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of the audit"
    },
    "metrics": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["metric", "protected_attribute", "value", "threshold", "passed"],
        "properties": {
          "metric": {
            "type": "string",
            "description": "Fairness metric name",
            "enum": [
              "disparate_impact",
              "disparate_impact_ratio",
              "demographic_parity",
              "demographic_parity_difference",
              "equal_opportunity",
              "equalized_odds",
              "calibration",
              "predictive_parity",
              "statistical_parity_difference",
              "equal_opportunity_difference"
            ]
          },
          "protected_attribute": {
            "type": "string",
            "description": "The protected attribute being evaluated (e.g. gender, race, age)"
          },
          "value": {
            "type": "number",
            "description": "Computed metric value"
          },
          "threshold": {
            "type": "number",
            "description": "Acceptable threshold for this metric"
          },
          "passed": {
            "type": "boolean",
            "description": "Whether the metric passed its threshold"
          }
        }
      }
    }
  }
}
